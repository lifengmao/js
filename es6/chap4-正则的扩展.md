# 正则的扩展

关于正则一直理解比较浅，到时候专开一个文件具体学习。

## RegExp构造函数

在ES6中，如果RegExp构造函数第一个参数是一个正则对象，那么可以使用第二个参数指定修饰符。而且，返回的正则表达式会忽略原有的正则表达式的修饰符，只使用新指定的修饰符。

```javascript
{
    // es5
    let regex = new RegExp('xyz','i');
    let regex2 = new RegExp(/xyz/i);

    console.log(regex.test('xyz123'),regex2.test('xyz123')); //true true
    // es6
    let regex3 = new RegExp(/xyz/ig,'i'); //第二个参数i 会覆盖前面的修饰符ig
    console.log(regex3.flags); //i flags用来获取正则的修饰符
}
```

---

## 字符串的正则方法

字符串对象共有4个方法，可以使用正则表达式：
* match()
* replace()
* search()
* split()

在ES6中，将这4个方法，在语言内部全部调用RegExp的实例方法，从而做到所有与正则相关的方法，全部定义都在RegExp对象上。

---

## 新增修饰符

### flags属性

ES6 为正则表达式新增了flags属性，会返回正则表达式的修饰符。

### u修饰符

ES6 对正则表达式添加了u修饰符，含义为“Unicode 模式”，用来正确处理大于\uFFFF的 Unicode 字符。也就是说，会正确处理四个字节的 UTF-16 编码。


### y修饰符

y修饰符也叫作粘连修饰符
y修饰符的作用与g修饰符类似，也是全局匹配，后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，g修饰符只要剩余位置中存在匹配就可，而y修饰符确保匹配必须从剩余的第一个位置开始，这也就是“粘连”的涵义。

与y修饰符相匹配，ES6 的正则对象多了sticky属性，表示是否设置了y修饰符。

### s修饰符

引入/s修饰符，使得.可以匹配任意单个字符。目前还是提案

这被称为dotAll模式，即点（dot）代表一切字符。所以，正则表达式还引入了一个dotAll属性，返回一个布尔值，表示该正则表达式是否处在dotAll模式。
